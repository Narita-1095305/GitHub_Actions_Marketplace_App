<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dep-Risk Dashboard Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f7fafc;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .stat-label {
            color: #718096;
            font-size: 0.875rem;
        }
        .risk-high { color: #e53e3e; }
        .risk-medium { color: #ed8936; }
        .risk-low { color: #48bb78; }
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .repo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        .repo-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-left: 4px solid;
        }
        .repo-high { border-left-color: #e53e3e; }
        .repo-medium { border-left-color: #ed8936; }
        .repo-low { border-left-color: #48bb78; }
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .badge-high { background: #fed7d7; color: #c53030; }
        .badge-medium { background: #feebc8; color: #c05621; }
        .badge-low { background: #c6f6d5; color: #2f855a; }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            transition: width 0.3s ease;
        }
        .test-status {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
            font-weight: 500;
        }
        .test-pass { background: #c6f6d5; color: #2f855a; }
        .test-fail { background: #fed7d7; color: #c53030; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõ°Ô∏è Dep-Risk Dashboard - Test Mode</h1>
            <p>Testing dashboard components with mock data</p>
            <div id="test-results"></div>
        </div>

        <!-- Stats Overview -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Average Risk Score</div>
                <div class="stat-number risk-medium">6.2/10</div>
                <span class="badge badge-medium">Medium Risk</span>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Repositories</div>
                <div class="stat-number" style="color: #3182ce;">12</div>
                <span class="badge" style="background: #bee3f8; color: #2c5282;">3 high risk</span>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Vulnerabilities</div>
                <div class="stat-number risk-medium">89</div>
                <span class="badge" style="background: #e2e8f0; color: #4a5568;">Across 45 scans</span>
            </div>
            <div class="stat-card">
                <div class="stat-label">Last Scan</div>
                <div class="stat-number" style="color: #4a5568; font-size: 1.25rem;">Today</div>
                <span class="badge" style="background: #c6f6d5; color: #2f855a;">Active</span>
            </div>
        </div>

        <!-- Risk Trend Chart -->
        <div class="chart-container">
            <h3>üìà Risk Trend (Last 7 Days)</h3>
            <p style="color: #718096; margin-bottom: 20px;">Risk score and vulnerability count over time</p>
            <div style="height: 200px; background: linear-gradient(45deg, #f7fafc 25%, transparent 25%), linear-gradient(-45deg, #f7fafc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f7fafc 75%), linear-gradient(-45deg, transparent 75%, #f7fafc 75%); background-size: 20px 20px; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
                <div style="text-align: center; color: #718096;">
                    <div style="font-size: 3rem;">üìä</div>
                    <div>Interactive Chart Area</div>
                    <div style="font-size: 0.875rem;">Risk trend visualization would appear here</div>
                </div>
            </div>
        </div>

        <!-- Repository Heatmap -->
        <div class="chart-container">
            <h3>üó∫Ô∏è Repository Risk Heatmap</h3>
            <p style="color: #718096; margin-bottom: 20px;">Risk scores and trends across 3 repositories</p>
            <div class="repo-grid">
                <div class="repo-card repo-high">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                        <div>
                            <div style="font-weight: bold;">frontend-app</div>
                            <span class="badge" style="background: #bee3f8; color: #2c5282;">TypeScript</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="color: #e53e3e;">‚Üó</span>
                            <span class="badge badge-high">8.2</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 82%; background: #e53e3e;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #718096;">
                        <span>15 vulns</span>
                        <span>2h ago</span>
                    </div>
                </div>

                <div class="repo-card repo-low">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                        <div>
                            <div style="font-weight: bold;">api-server</div>
                            <span class="badge" style="background: #c6f6d5; color: #2f855a;">Go</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="color: #48bb78;">‚Üò</span>
                            <span class="badge badge-low">3.5</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 35%; background: #48bb78;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #718096;">
                        <span>3 vulns</span>
                        <span>3h ago</span>
                    </div>
                </div>

                <div class="repo-card repo-medium">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                        <div>
                            <div style="font-weight: bold;">data-processor</div>
                            <span class="badge" style="background: #c6f6d5; color: #2f855a;">Python</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="color: #718096;">‚Äî</span>
                            <span class="badge badge-medium">6.8</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 68%; background: #ed8936;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #718096;">
                        <span>12 vulns</span>
                        <span>4h ago</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Test dashboard functionality
        function runTests() {
            const results = [];
            
            // Test 1: Check if all stat cards are rendered
            const statCards = document.querySelectorAll('.stat-card');
            results.push({
                name: 'Stat Cards Rendering',
                passed: statCards.length === 4,
                message: `Found ${statCards.length}/4 stat cards`
            });

            // Test 2: Check if repository cards are rendered
            const repoCards = document.querySelectorAll('.repo-card');
            results.push({
                name: 'Repository Cards Rendering',
                passed: repoCards.length === 3,
                message: `Found ${repoCards.length}/3 repository cards`
            });

            // Test 3: Check if risk colors are applied correctly
            const highRiskElements = document.querySelectorAll('.risk-high, .repo-high, .badge-high');
            results.push({
                name: 'Risk Color Coding',
                passed: highRiskElements.length > 0,
                message: `Found ${highRiskElements.length} high-risk elements`
            });

            // Test 4: Check responsive layout
            const container = document.querySelector('.container');
            const containerWidth = container.offsetWidth;
            results.push({
                name: 'Responsive Layout',
                passed: containerWidth > 0 && containerWidth <= 1200,
                message: `Container width: ${containerWidth}px`
            });

            // Display results
            const resultsContainer = document.getElementById('test-results');
            resultsContainer.innerHTML = results.map(test => 
                `<div class="test-status ${test.passed ? 'test-pass' : 'test-fail'}">
                    ${test.passed ? '‚úÖ' : '‚ùå'} ${test.name}: ${test.message}
                </div>`
            ).join('');

            const passedTests = results.filter(test => test.passed).length;
            console.log(`Dashboard Tests: ${passedTests}/${results.length} passed`);
        }

        // Run tests when page loads
        document.addEventListener('DOMContentLoaded', runTests);

        // Test responsive behavior
        window.addEventListener('resize', () => {
            console.log('Window resized, testing responsive behavior...');
            setTimeout(runTests, 100);
        });
    </script>
</body>
</html>